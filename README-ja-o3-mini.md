# Babel Fish AI - IAによる音声転写および翻訳拡張機能

Babel Fish AIは、もともと強力な音声転写機能を提供するために設計された革新的なChrome拡張機能です。OpenAIのWhisper APIを用いて驚異的な精度であなたの声をテキストに変換し、オプションでリアルタイムの自動翻訳もご利用いただけます。Babel Fish AIは、音声転写専用として利用することも、その都度翻訳を有効にすることも可能です。

## 🌟 機能

- **高度な音声転写**
  - お使いのデバイスのマイクを通じて高品質な音声をキャプチャ。
  - OpenAIのWhisper APIによって実現される正確な転写。
  - 音声の処理とテキストの表示のための多言語対応により、さまざまな言語での音声入力を転写し、お好みの言語で結果を表示可能。
  - アクティブな入力フィールドへの自動テキスト挿入、または専用ダイアログボックスでの表示。

- **統合された自動翻訳（オプション）**
  - 必要に応じて有効化できる、様々な言語への即時翻訳。
  - 原文の意味に忠実な翻訳を保証する先進的なIAモデルの利用。
  - 転写のみ、または転写と翻訳の両方を自由に選択可能。

- **直感的でカスタマイズ可能なユーザーインターフェース**
  - フレキシブルな表示モード：アクティブな入力エリアまたはフローティングダイアログウィンドウ。
  - 色、透明度、表示時間を選択できるステータスバナー。
  - 録音の開始／停止用のキーボードショートカット（Ctrl+Shift+1 またはMacでは⌘+Shift+1）。
  - マイクと数字「42」を統合したカスタムアイコンによる即時の認識。

- **高度なオプション**
  - 詳細な設定が可能なエキスパートモード（APIのURL、ドメインごとの設定など）。
  - 転写および翻訳のモデルをカスタマイズする機能。
  - 複数言語のインターフェースと音声サポートを提供する言語ファイル（_locales）による国際化の完全管理。

## 🌐 サポート言語

- アラビア語
- ドイツ語
- 英語
- スペイン語
- フランス語
- ヒンディー語
- イタリア語
- 日本語
- 韓国語
- オランダ語
- ポーランド語
- ポルトガル語
- ルーマニア語
- スウェーデン語
- 中国語

## 🚀 インストール

1. **ダウンロードとインストール：**
   - GitHubからこのリポジトリをクローンするか、拡張機能のフォルダを手動でダウンロードしてください。
   - Chromeを開き、`chrome://extensions/`にアクセスします。
   - 右上の「デベロッパーモード」を有効にします。
   - 「パッケージ化されていない拡張機能を読み込む」をクリックし、Babel Fish AIのフォルダを選択します。

2. **確認：**
   - Chromeのツールバーにカスタムアイコン付きで拡張機能が表示されていることを確認してください。

## ⚙️ 設定

1. **OpenAI APIキー：**
   - 拡張機能のアイコンをクリックしてオプションにアクセスします。
   - [platform.openai.com/account/api-keys](https://platform.openai.com/account/api-keys)で入手可能なOpenAI APIキーを入力します。

2. **オプションのカスタマイズ：**
   - 表示モード（アクティブエリアまたはダイアログボックス）を選択します。
   - ステータスバナーの色、透明度、表示時間を設定します。
   - 音声入力の転写用およびテキスト表示用の言語を選択します。
   - 必要に応じて翻訳機能を有効または無効にします。

## 🛠️ 技術的な動作

### 拡張機能のアーキテクチャ

この拡張機能は、相互に連携する複数のJavaScriptファイルで構成されています：

*   **`manifest.json`:** 拡張機能の主要な設定ファイルです。ここでは、許可、スクリプト、アクセス可能なリソースなどが定義されます。マニフェストのバージョン3を使用し、`activeTab`、`storage`、`commands`、`scripting`の許可を宣言しています。`content_scripts`はすべてのURLにインジェクトされ、ドキュメントの読み込み完了時に実行されます。
*   **`background.js`:** バックグラウンドで実行されるサービスワーカーです。アイコンのクリック、キーボードショートカットなどのイベントを管理し、必要に応じて`content script`をインジェクトし、`content script`と通信します。
*   **`content.js`:** ウェブページに注入されるスクリプトです。DOMと直接対話し、マイクからの音声をキャプチャし、転写および翻訳のAPIを呼び出し、結果を表示します。
*   **`src/utils/api.js`:** OpenAIのWhisper APIを呼び出すための`transcribeAudio`関数を含みます（転写用）。
*   **`src/utils/translation.js`:** OpenAIのGPT APIを呼び出すための`translateText`関数を含みます（翻訳用）。
*   **`src/utils/ui.js`:** ユーザーインターフェース（バナー、ダイアログボックス、コピー用ボタン）の管理に関するユーティリティ関数を含みます。
*   **`src/constants.js`:** 設定、状態、アクションなどの定数を定義します。
*   **`src/pages/options/`:** 拡張機能のオプションページ用のファイル（HTML、CSS、JavaScript）を含みます。

### 転写と翻訳のプロセス

1.  **録音の開始：** ユーザーは、拡張機能のアイコンをクリックするか、キーボードショートカットを使用して録音を開始します。`background script`は、録音開始のため`content script`にメッセージを送信します。
2.  **音声のキャプチャ：** `content script`は、`navigator.mediaDevices.getUserMedia` APIを使用してマイクにアクセスし、音声を録音します。
3.  **転写：** `content script`は、`src/utils/api.js`の`transcribeAudio`関数を使用して、音声をOpenAIのWhisper APIに送信します。APIは転写されたテキストを返します。
4.  **翻訳（オプション）：** 翻訳オプションが有効な場合、`content script`は、`src/utils/translation.js`の`translateText`関数を使用して、転写されたテキストをOpenAIのGPT APIに送信します。APIは翻訳されたテキストを返します。
5.  **表示：** `content script`は、転写された（必要に応じて翻訳された）テキストを、ページ上のアクティブな要素（テキストフィールドまたは編集可能な要素の場合）または専用ダイアログボックスに表示します。

### 通信

`background script`と`content script`との通信は、ChromeのメッセージングAPI（`chrome.runtime.sendMessage`および`chrome.runtime.onMessage`）を介して行われます。

### データの保存

この拡張機能は`chrome.storage.sync`を使用して、以下を保存します：

*   OpenAI APIキー（`apiKey`）。
*   拡張機能のオプション（表示、翻訳、バナーの色など）。

### エラー管理
（APIキーの未入力、転写エラーなどの）可能なエラーは`constants.js`ファイルに定義されています。`api.js`および`translation.js`の各関数は、API呼び出し時の潜在的なエラーを管理します。`content.js`は、ページ上部のバナーを通じてユーザーにエラーメッセージを表示します。

## 🛡️ セキュリティとプライバシー

- **データの保護：**
  - APIキーはChrome内に安全に保存されます。
  - 拡張機能は音声データを保持せず、すべての処理はリアルタイムで行われます。
  - APIとの通信は安全なHTTPS接続を介して行われます。

## 🔧 トラブルシューティング

- **マイクの問題：**
  - Chrome内でマイクアクセスの許可を確認してください。
  - 他のアプリケーションが同時にマイクを使用していないことを確認してください。

- **転写/翻訳エラー：**
  - APIキーが有効かつアクティブであることを確認してください。
  - 安定したインターネット接続があることを確認してください。
  - エラー発生時は、詳細なログをChromeのコンソールで確認してください。

## 🤝 貢献

貢献や提案は歓迎します。貢献するには：
- GitHubのIssuesセクションを通じてバグを報告してください。
- 改善点や新機能の提案を行ってください。
- プルリクエストを送信してください。

## 📄 ライセンス

この拡張機能はGNU Affero General Public License v3.0（AGPL-3.0）の下で配布されています。詳細についてはLICENSEファイルを参照してください。

## 💝 支援

この拡張機能を気に入っていただけた場合、[PayPal](https://paypal.me/jls)を通じてその開発を支援することができます。

---
jls42.orgによって情熱と革新をもって開発されたBabel Fish AIは、先端の人工知能技術によって音声転写と翻訳を新たな次元へと推進します。

**このドキュメントはフランス語版から日本語版へ o3-mini モデルを使用して翻訳されました。翻訳プロセスの詳細については、https://gitlab.com/jls42/ai-powered-markdown-translator をご覧ください。**

