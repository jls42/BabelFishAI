# بيبل فيش AI - امتداد النسخ الصوتي والترجمة باستخدام الذكاء الاصطناعي

بيبل فيش AI هو امتداد كروم مبتكر صُمم في الأصل لتوفير نسخ صوتي قوي. حوّل صوتك إلى نص بدقة مبهرة بفضل API Whisper من OpenAI، واستفد اختيارياً من الترجمة التلقائية في الوقت الحقيقي. يمكنك استخدام بيبل فيش AI حصرياً للنسخ أو تفعيل الترجمة الفورية حسب احتياجاتك.

## 🌟 الميزات

- **نسخ صوتي متقدم**
  - التقاط صوت عالي الجودة عبر ميكروفون جهازك.
  - نسخ دقيق يتم تنفيذه بواسطة API Whisper من OpenAI.
  - دعم متعدد اللغات لمعالجة الصوت وعرض النص، مما يتيح نسخ الإدخالات الصوتية بلغات مختلفة وعرض النتائج باللغة التي تختارها.
  - إدراج تلقائي للنص في الحقل النشط أو عرضه في مربع حوار مخصص.

- **الترجمة التلقائية المدمجة (اختيارية)**
  - ترجمة فورية للنصوص المنسوخة إلى لغات متعددة، يُمكن تفعيلها عند الحاجة.
  - استخدام نموذج ذكي متقدم لضمان ترجمة وفية للمعنى الأصلي.
  - حرية الاختيار في استخدام النسخ فقط أو الجمع بين النسخ والترجمة.

- **واجهة مستخدم بديهية وقابلة للتخصيص**
  - وضع عرض مرن: منطقة إدخال نشطة أو نافذة حوار عائمة.
  - شريط حالة قابل للتكوين مع خيارات الألوان والشفافية ومدة العرض.
  - اختصار لوحة مفاتيح (Ctrl+Shift+1 أو ⌘+Shift+1 على ماك) لبدء/إيقاف التسجيل.
  - أيقونة مخصصة تتضمن ميكروفون والرقم "42"، للتعرف الفوري.

- **خيارات متقدمة**
    - وضع الخبراء لتكوينات مفصلة (عناوين واجهات برمجة التطبيقات، التكوين حسب النطاق، إلخ).
    - إمكانية تخصيص نماذج النسخ والترجمة.
    - **متوافق مع LiteLLM Proxy لاستخدام نماذج لغوية بديلة وتعطيل تسجيل الطلبات.**
    - إدارة شاملة للتدويل بفضل ملفات اللغة (_locales) التي توفر واجهة ودعم صوتي بعدة لغات.

## 🌐 اللغات المدعومة

- العربية
- الألمانية
- الإنجليزية
- الإسبانية
- الفرنسية
- الهندية
- الإيطالية
- اليابانية
- الكورية
- الهولندية
- البولندية
- البرتغالية
- الرومانية
- السويدية
- الصينية

## 🚀 التثبيت

1.  **التحميل والتثبيت :**
    - استنساخ هذا المستودع من GitHub أو تحميل مجلد الامتداد يدوياً.
    - افتح Chrome وانتقل إلى `chrome://extensions/`.
    - فعّل "وضع المطور" في أعلى اليمين.
    - انقر على "تحميل الامتداد غير المضغوط" وحدد مجلد بيبل فيش AI.

2.  **التحقق :**
    - تأكد من ظهور الامتداد في شريط أدوات Chrome مع الأيقونة المخصصة.

## ⚙️ الإعدادات

1.  **مفتاح API الخاص بـ OpenAI :**
    *   انقر على أيقونة الامتداد للوصول إلى الإعدادات.
    *   أدخل مفتاح API الخاص بـ OpenAI (متاح على [platform.openai.com/account/api-keys](https://platform.openai.com/account/api-keys)).

2.  **تخصيص الإعدادات :**
    *   اختر وضع العرض (منطقة نشطة أو مربع حوار).
    *   قم بتكوين اللون والشفافية ومدة عرض شريط الحالة.
    *   اختر اللغات للنسخ (الإدخال الصوتي) ولعرض النص.
    *   فعّل أو عطّل ميزة الترجمة حسب احتياجاتك.

3.  **(اختياري) الاستخدام مع LiteLLM Proxy :**
    *   فعّل "وضع الخبراء" في الإعدادات.
    *   في قسم "الإعدادات المتقدمة"، قم بتعديل **العنوانين لكل من API (Whisper والترجمة)** للإشارة إلى مثيل LiteLLM Proxy الخاص بك. **استخدم نفس عنوان URL الأساسي لكل منهما.**
    *   قم بتحديد خيار "NoLog (فقط LiteLLM)" إذا كنت ترغب في تعطيل تسجيل الطلبات بواسطة LiteLLM.

## 🚀 الاستخدام مع LiteLLM Proxy

بيبل فيش AI متوافق مع [LiteLLM Proxy](https://litellm.ai/)، الذي يتيح استخدام نماذج لغوية بديلة مع واجهة API متوافقة مع واجهة OpenAI.

### الإعداد

1.  **قم بتثبيت وتكوين LiteLLM Proxy :** اتبع التعليمات على موقع LiteLLM.
2.  **قم بتكوين امتداد بيبل فيش AI :**
    *   في إعدادات الامتداد (انقر بزر الماوس الأيمن على الأيقونة > الإعدادات)، فعّل "وضع الخبراء".
    *   في قسم "الإعدادات المتقدمة"، قم بتعديل **العنوانين لكل من API (Whisper والترجمة)** للإشارة إلى مثيل LiteLLM Proxy الخاص بك (على سبيل المثال، `http://localhost:4000/v1/audio/transcriptions` و `http://localhost:4000/v1/chat/completions`). **استخدم نفس عنوان URL الأساسي لكل منهما.**
    *   قم بتحديد خيار "NoLog (فقط LiteLLM)" إذا كنت ترغب في تعطيل تسجيل الطلبات بواسطة LiteLLM.

**مهم :** خيار "NoLog" مصمم **حصرياً** ليستخدم مع LiteLLM Proxy. **لا تقم بتفعيله** إذا كنت تستخدم واجهة API الرسمية لـ OpenAI، لأنه سيتسبب في حدوث خطأ ويمنع الترجمة من العمل.

## 🛠️ الآلية التقنية

### بنية الامتداد

يتألف الامتداد من عدة ملفات JavaScript تتفاعل مع بعضها البعض :

*   **`manifest.json`:** الملف الرئيسي لإعدادات الامتداد. يحدد الأذونات، السكريبتات، الموارد المتاحة، إلخ. يستخدم النسخة 3 من المانيفيست ويعلن عن الأذونات `activeTab`، `storage`، `commands` و `scripting`. يتم حقن `content_scripts` في جميع عناوين URL ويتم تنفيذها في نهاية تحميل المستند.
*   **`background.js`:** العامل الخفي الذي يعمل في الخلفية. يدير الأحداث (النقر على الأيقونة، اختصارات لوحة المفاتيح)، يقوم بحقن `content script` عند الحاجة، ويتواصل مع `content script`.
*   **`content.js`:** السكريبت الذي يتم حقنه في صفحات الويب. يتفاعل مباشرة مع DOM، يلتقط صوت الميكروفون، يستدعي واجهات برمجة التطبيقات للنسخ والترجمة، ويعرض النتائج.
*   **`src/utils/api.js`:** يحتوي على دالة `transcribeAudio` لاستدعاء واجهة API Whisper من OpenAI (النسخ).
*   **`src/utils/translation.js`:** يحتوي على دالة `translateText` لاستدعاء واجهة API GPT من OpenAI (الترجمة).
*   **`src/utils/ui.js`:** يحتوي على وظائف مساعدة لإدارة واجهة المستخدم (الشريط الإعلاني، مربع الحوار، زر النسخ).
*   **`src/constants.js`:** يحدد الثوابت للإعدادات، الحالات، الإجراءات، إلخ.
*   **`src/pages/options/`:** يحتوي على الملفات لصفحة إعدادات الامتداد (HTML، CSS، JavaScript).

### عملية النسخ والترجمة

1.  **بدء التسجيل :** يبدأ المستخدم التسجيل بالنقر على أيقونة الامتداد أو باستخدام اختصار لوحة المفاتيح. يرسل `background script` رسالة إلى `content script` لبدء التسجيل.
2.  **التقاط الصوت :** يستخدم `content script` واجهة API `navigator.mediaDevices.getUserMedia` للوصول إلى الميكروفون وتسجيل الصوت.
3.  **النسخ :** يستخدم `content script` دالة `transcribeAudio` (`src/utils/api.js`) لإرسال الصوت إلى واجهة API Whisper من OpenAI. تعيد الواجهة النص المنسوخ.
4.  **الترجمة (اختيارية) :** إذا تم تفعيل خيار الترجمة، يستخدم `content script` دالة `translateText` (`src/utils/translation.js`) لإرسال النص المنسوخ إلى واجهة API GPT من OpenAI. تعيد الواجهة النص المترجم.
5.  **العرض :** يعرض `content script` النص المنسوخ (وأحياناً المترجم) إما في العنصر النشط في الصفحة (إذا كان حقل نص أو عنصر قابل للتعديل)، أو في مربع حوار.

### الاتصالات

يتم التواصل بين `background script` و `content script` عبر واجهة برمجة الرسائل في Chrome (`chrome.runtime.sendMessage` و `chrome.runtime.onMessage`).

### تخزين البيانات

يستخدم الامتداد `chrome.storage.sync` لتخزين :

*   مفتاح API الخاص بـ OpenAI (`apiKey`).
*   إعدادات الامتداد (العرض، الترجمة، ألوان الشريط، إلخ).

### إدارة الأخطاء
يتم تعريف الأخطاء المحتملة (مفتاح API مفقود، خطأ في النسخ، إلخ) في ملف `constants.js`. تدير الدوال في `api.js` و `translation.js` الأخطاء المحتملة لمكالمات API. يعرض `content.js` رسائل الخطأ للمستخدم عبر شريط في أعلى الصفحة.

## 🛡️ الأمان والخصوصية

- **حماية البيانات :**
  - يُخزن مفتاح API بطريقة آمنة في Chrome.
  - لا يحتفظ الامتداد ببيانات صوتك؛ جميع المعالجات تتم في الوقت الفعلي.
  - يتم التواصل مع API عبر اتصالات HTTPS آمنة.

## 🔧 استكشاف الأخطاء وإصلاحها

- **مشاكل الميكروفون :**
  - تحقق من أذونات الوصول إلى الميكروفون في Chrome.
  - تأكد من عدم استخدام أي تطبيق آخر للميكروفون في نفس الوقت.

- **أخطاء النسخ/الترجمة :**
  - تحقق من أن مفتاح API صالح ومفعل.
  - تأكد من وجود اتصال إنترنت مستقر.
  - راجع وحدة تحكم Chrome للحصول على سجلات مفصلة في حال حدوث خطأ.

## 🤝 المساهمة

المساهمات والاقتراحات مرحب بها. للمساهمة :
- أبلغ عن الأخطاء عبر قسم المشاكل على GitHub.
- اقترح تحسينات أو ميزات جديدة.
- قدم طلبات السحب الخاصة بك.

## 📄 الترخيص

يتم توزيع هذا الامتداد بموجب رخصة GNU Affero General Public License v3.0 (AGPL-3.0). راجع ملف LICENSE لمزيد من التفاصيل.

## 💝 الدعم

إذا أعجبك هذا الامتداد، يمكنك دعم تطويره من خلال تقديم تبرع عبر [PayPal](https://paypal.me/jls).

---
طُور بواسطة jls42.org بشغف وابتكار، يدفع بيبل فيش AI عملية النسخ والترجمة نحو آفاق جديدة بفضل الذكاء الاصطناعي المتقدم.

**تم ترجمة هذا المستند من النسخة الفرنسية إلى اللغة العربية باستخدام النموذج o3-mini. لمزيد من المعلومات حول عملية الترجمة، يُرجى زيارة https://gitlab.com/jls42/ai-powered-markdown-translator**

