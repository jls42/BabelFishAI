# بابيل فيش آي آي - امتداد النسخ الصوتي والترجمة باستخدام الذكاء الاصطناعي

**لاستخدام الامتداد، ستحتاج إلى مفتاح API من OpenAI (أو من مزود طرف ثالث إذا كنت تستخدم LiteLLM Proxy). يمكنك توليد مفتاح API من OpenAI هنا: [https://platform.openai.com/account/api-keys](https://platform.openai.com/account/api-keys)**

بابيل فيش آي آي هو امتداد مبتكر لمتصفح Chrome صُمم في الأصل لتقديم نسخ صوتي قوي. حوّل صوتك إلى نص بدقة مذهلة باستخدام واجهة برمجة التطبيقات Whisper من OpenAI، واستفد من الترجمة التلقائية في الوقت الحقيقي كخيار إضافي. يمكنك استخدام بابيل فيش آي آي حصرياً للنسخ الصوتي أو تفعيل الترجمة الفورية وفقاً لاحتياجاتك.

[![CodeFactor](https://www.codefactor.io/repository/github/jls42/babelfishai/badge)](https://www.codefactor.io/repository/github/jls42/babelfishai)

## 🌟 الميزات

- **نسخ صوتي متقدم**
  - التقاط صوت عالي الجودة عبر ميكروفون جهازك.
  - نسخ دقيق يتم بواسطة واجهة برمجة التطبيقات Whisper من OpenAI.
  - دعم متعدد اللغات للتعرف على الصوت وعرض النص، مما يتيح نسخ المُدخلات الصوتية بعدة لغات وعرض النتائج (النسخ والترجمة، إذا تم تفعيلها) باللغة التي تختارها.
  - إدراج النص تلقائياً في الحقل النشط أو عرضه في صندوق حوار مخصص.

- **ترجمة تلقائية مدمجة (اختيارية)**
  - ترجمة فورية للنسخ إلى عدة لغات، يمكن تفعيلها عند الحاجة.
  - استخدام نموذج ذكاء اصطناعي متقدم لضمان ترجمة دقيقة تعكس المعنى الأصلي.
  - خيار حر في استخدام النسخ فقط أو الجمع بين النسخ والترجمة.

- **واجهة مستخدم بديهية وقابلة للتخصيص**
  - وضع عرض مرن: منطقة إدخال نشطة أو نافذة حوار عائمة.
  - شريط حالة قابل للتكوين مع اختيار الألوان والشفافية ومدة العرض.
  - اختصار لوحة مفاتيح (Ctrl+Shift+1 أو ⌘+Shift+1 على أجهزة Mac) لبدء/إيقاف التسجيل.
  - أيقونة مخصصة تدمج ميكروفون والرقم "42" للتعرف الفوري.

- **خيارات متقدمة**
    - وضع الخبراء للتكوينات التفصيلية (عناوين URL الخاصة بواجهات برمجة التطبيقات، التكوين حسب النطاق، إلخ).
    - إمكانية تخصيص نماذج النسخ والترجمة.
    - توافق مع LiteLLM Proxy للاتصال بنماذج لغوية بديلة وتعطيل تسجيل الطلبات.
    - إدارة شاملة للتدويل بفضل ملفات اللغة (_locales)، مما يوفر واجهة ودعم صوتي بعدة لغات.

## 🌐 اللغات المدعومة

- العربية
- الألمانية
- الإنجليزية
- الإسبانية
- الفرنسية
- الهندية
- الإيطالية
- اليابانية
- الكورية
- الهولندية
- البولندية
- البرتغالية
- الرومانية
- السويدية
- الصينية

## 🚀 التثبيت

1.  **التنزيل والتثبيت:**
    - قم باستنساخ هذا المستودع من GitHub أو قم بتنزيل مجلد الامتداد يدوياً.
    - افتح Chrome واذهب إلى `chrome://extensions/`.
    - فعّل "وضع المطور" في أعلى اليمين.
    - اضغط على "تحميل الامتداد غير المجمّع" واختر مجلد بابيل فيش آي آي.

2.  **التحقق:**
    - تأكد من ظهور الامتداد في شريط أدوات Chrome مع الأيقونة المخصصة.

## ⚙️ التكوين

1.  **مفتاح API من OpenAI:**
    *   انقر على أيقونة الامتداد للوصول إلى الخيارات.
    *   أدخل مفتاح API الخاص بك من OpenAI (متاح على [platform.openai.com/account/api-keys](https://platform.openai.com/account/api-keys)).

2.  **تخصيص الخيارات:**
    *   اختر وضع العرض (منطقة نشطة أو صندوق حوار).
    *   قم بتكوين اللون والشفافية ومدة عرض شريط الحالة.
    *   حدد اللغات للنسخ (الإدخال الصوتي) ولعرض النص.
    *   فَعّل أو عطل ميزة الترجمة حسب احتياجاتك.

3.  **(اختياري) الاستخدام مع LiteLLM Proxy:**
    *   فعّل "وضع الخبراء" في الخيارات.
    *   في قسم "التكوين المتقدم"، عدّل **عنوانين URL** لواجهات برمجة التطبيقات (Whisper والترجمة) للإشارة إلى مثيل LiteLLM Proxy الخاص بك. **استخدم نفس عنوان URL الأساسي لكلتا الخدمتين.**
    *   اختر خيار "NoLog (خاص بـ LiteLLM فقط)" إذا كنت ترغب في تعطيل تسجيل الطلبات بواسطة LiteLLM.

## 🚀 الاستخدام مع LiteLLM Proxy

إذا كنت ترغب في استخدام نماذج لغوية غير نموذج OpenAI، يمكنك استخدام LiteLLM Proxy. إليك كيفية التكوين:

بابيل فيش آي آي متوافق مع [LiteLLM Proxy](https://litellm.ai/)، الذي يتيح استخدام نماذج لغوية بديلة بواجهة برمجة تطبيقات متوافقة مع OpenAI.

### التكوين

1.  **قم بتثبيت وتكوين LiteLLM Proxy:** اتبع التعليمات الموجودة على موقع LiteLLM.
2.  **قم بتكوين امتداد بابيل فيش آي آي:**
    *   في خيارات الامتداد (انقر بزر الماوس الأيمن على الأيقونة > الخيارات)، فعّل "وضع الخبراء".
    *   في قسم "التكوين المتقدم"، عدّل **عنوانين URL** لواجهات برمجة التطبيقات (Whisper والترجمة) للإشارة إلى مثيل LiteLLM Proxy الخاص بك (على سبيل المثال، `http://localhost:4000/v1/audio/transcriptions` و `http://localhost:4000/v1/chat/completions`). **استخدم نفس عنوان URL الأساسي لكلتا الخدمتين.**
    *   اختر خيار "NoLog (خاص بـ LiteLLM فقط)" إذا كنت ترغب في تعطيل تسجيل الطلبات بواسطة LiteLLM.

**مهم:** خيار "NoLog" مصمم **حصرياً** للاستخدام مع LiteLLM Proxy. **لا تقم بتفعيله** إذا كنت تستخدم واجهة برمجة التطبيقات الرسمية من OpenAI، حيث سيؤدي ذلك إلى حدوث خطأ ومنع الترجمة من العمل.

## 🛠️ التشغيل الفني

### بنية الامتداد

الامتداد يتكون من عدة ملفات JavaScript تتفاعل مع بعضها البعض:

*   **`manifest.json`:** الملف الرئيسي لتكوين الامتداد. يحدد الأذونات والسكربتات والموارد المتاحة، إلخ. يستخدم النسخة 3 من المانيفيست ويعلن عن الأذونات `activeTab`، `storage`، `commands` و `scripting`. يتم إدراج `content_scripts` في جميع عناوين URL ويتم تنفيذها في نهاية تحميل المستند.
*   **`background.js`:** العامل الخدمي الذي يعمل في الخلفية. يدير الأحداث (النقر على الأيقونة، اختصارات لوحة المفاتيح)، يُدخل السكربتات الخاصة بالمحتوى عند الحاجة، ويتواصل مع سكربت المحتوى.
*   **`content.js`:** السكربت الذي يتم إدراجه في صفحات الويب. يتفاعل مباشرة مع الـ DOM، يلتقط الصوت من الميكروفون، يستدعي واجهات برمجة التطبيقات الخاصة بالنسخ والترجمة، ويعرض النتائج.
*   **`src/utils/api.js`:** يحتوي على وظيفة `transcribeAudio` لاستدعاء واجهة برمجة التطبيقات Whisper من OpenAI (النسخ).
*   **`src/utils/translation.js`:** يحتوي على وظيفة `translateText` لاستدعاء واجهة برمجة التطبيقات GPT من OpenAI (الترجمة).
*   **`src/utils/ui.js`:** يحتوي على وظائف مساعدة لإدارة واجهة المستخدم (الشريط، صندوق الحوار، زر النسخ).
*   **`src/constants.js`:** يحدد ثوابت للتكوين والحالات والإجراءات، إلخ.
*   **`src/pages/options/`:** يحتوي على الملفات الخاصة بصفحة خيارات الامتداد (HTML، CSS، JavaScript).

### عملية النسخ والترجمة

1.  **بدء التسجيل:** يبدأ المستخدم التسجيل بالنقر على أيقونة الامتداد أو باستخدام اختصار لوحة المفاتيح. يقوم السكربت العامل بإرسال رسالة إلى سكربت المحتوى لبدء التسجيل.
2.  **التقاط الصوت:** يستخدم سكربت المحتوى واجهة `navigator.mediaDevices.getUserMedia` للوصول إلى الميكروفون وتسجيل الصوت.
3.  **النسخ:** يستخدم سكربت المحتوى وظيفة `transcribeAudio` (`src/utils/api.js`) لإرسال الصوت إلى واجهة برمجة التطبيقات Whisper من OpenAI. تُرجع واجهة برمجة التطبيقات النص المنسوخ.
4.  **الترجمة (اختيارية):** إذا تم تفعيل خيار الترجمة، يستخدم سكربت المحتوى وظيفة `translateText` (`src/utils/translation.js`) لإرسال النص المنسوخ إلى واجهة برمجة التطبيقات GPT من OpenAI. تُرجع واجهة برمجة التطبيقات النص المترجم.
5.  **العرض:** يعرض سكربت المحتوى النص المنسوخ (وربما المترجم) إما في العنصر النشط في الصفحة (إذا كان حقل نص أو عنصر قابل للتعديل) أو في صندوق حوار.

### الاتصال

يتم الاتصال بين سكربت الخلفية وسكربت المحتوى عبر واجهة الرسائل في Chrome (`chrome.runtime.sendMessage` و `chrome.runtime.onMessage`).

### تخزين البيانات

يستخدم الامتداد `chrome.storage.sync` لتخزين:

*   مفتاح API من OpenAI (`apiKey`).
*   خيارات الامتداد (العرض، الترجمة، ألوان الشريط، إلخ).

يتم تخزين هذه البيانات محلياً على جهازك، في تخزين امتداد Chrome.

### إدارة الأخطاء

الأخطاء الممكنة (مفتاح API مفقود، خطأ في النسخ، إلخ) معرفة في ملف `constants.js`. تقوم وظائف `api.js` و `translation.js` بإدارة الأخطاء المحتملة لاستدعاءات واجهة برمجة التطبيقات. يعرض سكربت المحتوى رسائل الخطأ للمستخدم عبر شريط في أعلى الصفحة.

## 🛡️ الأمان والخصوصية

- **حماية البيانات:**
  - يتم تخزين مفتاح API بشكل آمن داخل Chrome.
  - لا يحتفظ الامتداد ببيانات الصوت الخاصة بك؛ جميع المعالجات تتم في الوقت الفعلي.
  - يتم الاتصال بواجهات برمجة التطبيقات عبر اتصالات HTTPS آمنة.

لمزيد من المعلومات الكاملة حول كيفية إدارة بابيل فيش آي آي لبياناتك، يرجى الاطلاع على [سياسة الخصوصية](PRIVACY.md).

## 🔧 استكشاف المشاكل وإصلاحها

- **مشكلات الميكروفون:**
  - تحقق من أذونات الوصول إلى الميكروفون في Chrome.
  - تأكد من عدم استخدام أي تطبيق آخر للميكروفون في نفس الوقت.

- **أخطاء النسخ/الترجمة:**
  - تحقق من أن مفتاح API صالح ومفعل.
  - تأكد من وجود اتصال إنترنت مستقر.
  - راجع وحدة التحكم في Chrome للحصول على سجلات مفصلة في حال حدوث خطأ.

## 🤝 المساهمة

المساهمات والاقتراحات مرحب بها. للمساهمة:
- أبلغ عن الأخطاء عبر قسم القضايا على GitHub.
- اقترح تحسينات أو ميزات جديدة.
- قدم طلبات السحب الخاصة بك.

## 📄 الرخصة

يُوزع هذا الامتداد بموجب رخصة GNU Affero General Public License v3.0 (AGPL-3.0). يرجى مراجعة ملف LICENSE لمزيد من التفاصيل.

## 💝 الدعم

إذا أعجبك هذا الامتداد، يمكنك دعم تطويره من خلال التبرع عبر [PayPal](https://paypal.me/jls).
---
تم تطويره بشغف وابتكار من قبل jls42.org، حيث يدفع بابيل فيش آي آي النسخ والترجمة إلى آفاق جديدة بفضل الذكاء الاصطناعي المتطور.

**تمت ترجمة هذا المستند من النسخة fr إلى اللغة ar باستخدام نموذج o3-mini. لمزيد من المعلومات حول عملية الترجمة، يرجى زيارة https://gitlab.com/jls42/ai-powered-markdown-translator**

