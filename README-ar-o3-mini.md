# بابيل فيش AI - امتداد نسخ الصوت والترجمة بالذكاء الاصطناعي

<img src="images/icon128.png" alt="Babel Fish AI Icon" width="128" height="128">

**لاستخدام الامتداد، ستحتاج إلى مفتاح API من OpenAI (أو مزود طرف ثالث إذا كنت تستخدم LiteLLM Proxy). يمكنك إنشاء مفتاح API من OpenAI هنا : [https://platform.openai.com/account/api-keys](https://platform.openai.com/account/api-keys)**

بابيل فيش AI هو امتداد كروم مبتكر صُمم أصلاً لتوفير نسخ صوتي قوي. حوّل صوتك إلى نص بدقة ملحوظة بفضل واجهة Whisper API الخاصة بـ OpenAI، وتمتع اختيارياً بترجمة تلقائية في الوقت الفعلي. يمكنك استخدام بابيل فيش AI حصرياً للنسخ أو تفعيل الترجمة الفورية حسب احتياجاتك.

[![CodeFactor](https://www.codefactor.io/repository/github/jls42/babelfishai/badge)](https://www.codefactor.io/repository/github/jls42/babelfishai) [![Codacy Badge](https://app.codacy.com/project/badge/Grade/59bfe4cd13444ee1b4cffa58300dd043)](https://app.codacy.com/gh/jls42/BabelFishAI/dashboard?utm_source=gh&utm_medium=referral&utm_content=&utm_campaign=Badge_grade)

## 🌟 الميزات

- **النسخ الصوتي المتقدم**
  - التقاط صوت عالي الجودة عبر ميكروفون جهازك.
  - نسخ دقيق يتم إنجازه بواسطة واجهة Whisper API من OpenAI.
  - دعم متعدد اللغات للتعرف على الصوت وعرض النص، مما يتيح نسخ المدخلات الصوتية بلغات مختلفة وعرض النتائج (النسخ والترجمة، إذا تم تفعيلها) باللغة التي تختارها.
  - الإدراج التلقائي للنص في الحقل النشط أو عرضه في مربع حوار مخصص.

- **الترجمة وإعادة الصياغة الذكية**
  - ترجمة فورية للنصوص المنسوخة إلى لغات متعددة، ليتم تفعيلها عند الحاجة.
  - إعادة صياغة النص لتحسين أسلوبه ووضوحه.
  - استخدام نموذج ذكاء اصطناعي متقدم لضمان ترجمة دقيقة للمعنى الأصلي.
  - خيار حر لاستخدام النسخ فقط أو الجمع بين النسخ والترجمة.

- **قائمة السياق القوية**
  - خيار "إعادة صياغة التحديد" لتحسين النصوص المحددة على الفور.
  - خيار "ترجمة التحديد" مع قائمة فرعية لجميع اللغات المتاحة.
  - استبدال النص المحدد مباشرة بنسخته المترجمة أو المعاد صياغتها.
  - دمج مثالي في واجهة مستخدم كروم الأصلية.

- **واجهة مستخدم بديهية وقابلة للتخصيص**
  - وضع عرض مرن: منطقة إدخال نشطة أو نافذة حوار عائمة.
  - شريط حالة قابل للتعديل مع اختيار الألوان والشفافية ومدة العرض.
  - اختصار لوحة المفاتيح (Ctrl+Shift+1 أو ⌘+Shift+1 على Mac) لبدء/إيقاف التسجيل.
  - خيار "الإبقاء مفتوحاً" للتحكم في مدة عرض النتائج.
  - أيقونة مخصصة، تتضمن ميكروفون والرقم "42"، للتعرف الفوري.

- **خيارات متقدمة**
    - وضع الخبراء لإعدادات مفصلة (روابط API، الإعدادات حسب النطاق، إلخ).
    - إمكانية تخصيص نماذج النسخ والترجمة.
    - التوافق مع LiteLLM Proxy للاتصال بنماذج لغوية بديلة وتعطيل تسجيل الطلبات.
    - إدارة شاملة للتدويل بفضل ملفات اللغة (_locales)، مما يوفر واجهة ودعم صوتي بلغات متعددة.

## 🌐 اللغات المدعومة

فيما يلي قائمة اللغات المدعومة بواسطة بابيل فيش AI، مع روابط لمقاطع فيديو توضيحية :

- [العربية](https://www.youtube.com/watch?v=onzOGx7nbUE)
- [الألمانية](https://www.youtube.com/watch?v=G1QVF1NTQYE)
- [الإنجليزية](https://www.youtube.com/watch?v=QC8WiIszn3Q)
- [الإسبانية](https://www.youtube.com/watch?v=nA93pis4vDQ)
- [الفرنسية](https://www.youtube.com/watch?v=ITNFjx7Mgo4)
- [الهندية](https://www.youtube.com/watch?v=FMEYdwCqoPg)
- [الإيطالية](https://www.youtube.com/watch?v=QgYZt8myods)
- [اليابانية](https://www.youtube.com/watch?v=noHEJCnocH8)
- [الكورية](https://www.youtube.com/watch?v=YrYN75YSH3w)
- [الهولندية](https://www.youtube.com/watch?v=OnAZHzbd2NQ)
- [البولندية](https://www.youtube.com/watch?v=E5AVNjZYOxM)
- [البرتغالية](https://www.youtube.com/watch?v=st0XwCV1tvo)
- [الرومانية](https://www.youtube.com/watch?v=H2IMpU5_Hew)
- [السويدية](https://www.youtube.com/watch?v=HMMzGyW8000)
- [الصينية](https://www.youtube.com/watch?v=OJe6oVA_Y0s)

## 🚀 التثبيت

1.  **التنزيل والتثبيت :**
    - استنساخ هذا المستودع من GitHub أو تحميل مجلد الامتداد يدوياً.
    - **أو قم بتثبيت الامتداد مباشرة من [متجر كروم الإلكتروني](https://chromewebstore.google.com/detail/babelfishai-by-jls42org/aahodplbenfmijbeahnhoklpdnmfdmbk)**
    - افتح كروم وانتقل إلى `chrome://extensions/`.
    - فعّل «وضع المطور» في الأعلى على اليمين.
    - انقر على «تحميل الامتداد غير المعبأ» واختر مجلد بابيل فيش AI.

2.  **التحقق :**
    - تأكد من ظهور الامتداد في شريط أدوات كروم مع الأيقونة المخصصة.

## ⚙️ الإعدادات

1.  **مفتاح API الخاص بـ OpenAI :**
    * انقر على أيقونة الامتداد للوصول إلى الخيارات.
    * أدخل مفتاح API الخاص بك من OpenAI (متاح على [platform.openai.com/account/api-keys](https://platform.openai.com/account/api-keys)).

2.  **تخصيص الخيارات :**
    * اختر وضع العرض (منطقة نشطة أو مربع حوار).
    * قم بضبط اللون، الشفافية ومدة عرض شريط الحالة.
    * اختر اللغات للنسخ (الإدخال الصوتي) ولعرض النص.
    * فعّل أو عطّل ميزة الترجمة حسب احتياجاتك.

3.  **(اختياري) الاستخدام مع LiteLLM Proxy :**
    * فعّل "الوضع الخبير" في الخيارات.
    * في قسم "الإعدادات المتقدمة"، قم بتعديل **كل من روابط URL** لواجهات API (Whisper والترجمة) لتشير إلى مثيلك من LiteLLM Proxy. **استخدم نفس رابط URL الأساسي لكليهما.**
    * ضع علامة على خيار "NoLog (خاص بـ LiteLLM فقط)" إذا كنت ترغب في تعطيل تسجيل الطلبات بواسطة LiteLLM.

## 🚀 الاستخدام مع LiteLLM Proxy

إذا كنت ترغب في استخدام نماذج لغوية غير OpenAI، يمكنك استخدام LiteLLM Proxy. إليك كيفية إعداده :

بابيل فيش AI متوافق مع [LiteLLM Proxy](https://litellm.ai/)، الذي يتيح استخدام نماذج لغوية بديلة بواجهة API متوافقة مع واجهة OpenAI.

### الإعداد

1.  **قم بتثبيت وتكوين LiteLLM Proxy :** اتبع التعليمات على موقع LiteLLM.
2.  **قم بتكوين امتداد بابيل فيش AI :**
    * في خيارات الامتداد (انقر بزر الماوس الأيمن على الأيقونة > خيارات)، فعّل "الوضع الخبير".
    * في قسم "الإعدادات المتقدمة"، قم بتعديل **كل من روابط URL** لواجهات API (Whisper والترجمة) لتشير إلى مثيلك من LiteLLM Proxy (على سبيل المثال، `http://localhost:4000/v1/audio/transcriptions` و `http://localhost:4000/v1/chat/completions`). **استخدم نفس رابط URL الأساسي لكليهما.**
    * ضع علامة على خيار "NoLog (خاص بـ LiteLLM فقط)" إذا كنت ترغب في تعطيل تسجيل الطلبات بواسطة LiteLLM.

**مهم :** تم تصميم خيار "NoLog" **حصرياً** ليستخدم مع LiteLLM Proxy. **لا تقم بتفعيله** إذا كنت تستخدم واجهة API الرسمية لـ OpenAI، حيث سيسبب ذلك خطأ ويمنع عمل الترجمة.

## 🛠️ الأداء التقني

### هيكل الامتداد

يتكوّن الامتداد من عدة ملفات جافا سكريبت تتفاعل مع بعضها البعض:

*   **`manifest.json`:** الملف الرئيسي لإعدادات الامتداد. يُحدد الصلاحيات، والسكربتات، والموارد المتاحة، إلخ. يستخدم الإصدار 3 من التصريح ويعلن عن الصلاحيات `activeTab`، `storage`، `commands`، `scripting` و `contextMenus`. تسمح `web_accessible_resources` بالوصول إلى موارد الامتداد في سياقات التنفيذ المختلفة.
*   **`background.js`:** عامل الخدمة الذي يعمل في الخلفية. يدير الأحداث (النقر على الأيقونة، اختصارات لوحة المفاتيح، قائمة السياق)، يقوم بحقن `content script` إذا لزم الأمر، ويتواصل مع `content script`.
*   **`content.js`:** السكربت الذي يتم حقنه في صفحات الويب. يتفاعل مباشرة مع DOM، يلتقط صوت الميكروفون، يستدعي واجهات API للنسخ والترجمة، ويعرض النتائج.
*   **`src/utils/api.js`:** يحتوي على الدوال التي تتيح التفاعل مع واجهات API، منها `transcribeAudio` لاستدعاء واجهة Whisper API من OpenAI (النسخ) ودوال مساعدة لإدارة التخزين.
*   **`src/utils/translation.js`:** يحتوي على الدوال `translateText` و `rephraseText` لاستدعاء واجهة GPT API من OpenAI (الترجمة وإعادة الصياغة).
*   **`src/utils/ui.js`:** يحتوي على دوال مساعدة لإدارة واجهة المستخدم (الشريط، مربع الحوار، زر النسخ).
*   **`src/utils/languages-shared.js` و `src/utils/languages-data.js`:** تُحدد القائمة المركزية للغات المدعومة، على التوالي لسياق صفحة الويب وخدمات العامل.
*   **`src/utils/i18n.js`:** يدير التدويل لواجهة المستخدم.
*   **`src/constants.js`:** يُحدد ثوابت للإعدادات، والحالات، والإجراءات، إلخ.
*   **`src/pages/options/`:** يحتوي على الملفات الخاصة بصفحة الخيارات للامتداد (HTML، CSS، جافا سكريبت).

### عملية النسخ والترجمة

#### الميزة الرئيسية للنسخ الصوتي

1.  **بدء التسجيل :** يبدأ المستخدم التسجيل بالنقر على أيقونة الامتداد أو باستخدام اختصار لوحة المفاتيح (Ctrl+Shift+1 أو ⌘+Shift+1 على Mac). يرسل `background script` رسالة إلى `content script` لبدء التسجيل.
2.  **التقاط الصوت :** يستخدم `content script` واجهة `navigator.mediaDevices.getUserMedia` للوصول إلى الميكروفون وتسجيل الصوت عبر واجهة MediaRecorder.
3.  **النسخ :** يستخدم `content script` الدالة `transcribeAudio` (`src/utils/api.js`) لإرسال الصوت إلى واجهة Whisper API من OpenAI. تُعيد الواجهة النص المنسوخ.
4.  **الترجمة أو إعادة الصياغة (اختيارية) :** 
   - إذا تم تفعيل خيار الترجمة، يستخدم `content script` الدالة `translateText` (`src/utils/translation.js`) لإرسال النص المنسوخ إلى واجهة GPT API من OpenAI.
   - إذا تم تفعيل خيار إعادة الصياغة، تُستخدم الدالة `rephraseText` لتحسين النص المنسوخ.
5.  **العرض :** يعرض `content script` النص المعالج إما في العنصر النشط على الصفحة (إذا كان حقل نص أو عنصر قابل للتعديل)، أو في مربع حوار مخصص.

#### ميزة قائمة السياق

1. **تحديد النص :** يقوم المستخدم بتحديد نص في صفحة الويب.
2. **قائمة السياق :** يقوم النقر بزر الماوس الأيمن بعرض خيارات "إعادة صياغة التحديد" أو "ترجمة التحديد" مع قائمة فرعية للغات المتاحة.
3. **المعالجة :** حسب الخيار المختار :
   - يُرسل النص لإعادة الصياغة عبر الدالة `rephraseText`
   - يُرسل النص للترجمة عبر الدالة `translateText` مع اللغة الهدف المحددة
4. **العرض :** يستبدل النتيجة النص المحدد الأصلي في العنصر الذي يحتوي على النص المحدد.

### الاتصالات

يتم التواصل بين `background script` و `content script` عبر واجهة رسائل كروم (`chrome.runtime.sendMessage` و `chrome.runtime.onMessage`).

### تخزين البيانات

يستخدم الامتداد `chrome.storage.sync` لتخزين :

* مفتاح API الخاص بـ OpenAI (`apiKey`).
* خيارات الامتداد (العرض، الترجمة، ألوان الشريط، إلخ).
* تفضيلات اللغة للترجمة.

يتم تخزين هذه البيانات محلياً على جهازك، في تخزين امتداد كروم.

### إدارة الأخطاء

يتم تحديد الأخطاء المحتملة (عدم وجود مفتاح API، خطأ في النسخ، إلخ) في ملف `constants.js`. تدير الدوال الموجودة في `api.js` و `translation.js` الأخطاء المحتملة لاستدعاءات API. يعرض `content.js` رسائل الخطأ للمستخدم عبر شريط أعلى الصفحة.

## 🛡️ الأمان والخصوصية

- **حماية البيانات :**
  - يتم تخزين مفتاح API بطريقة آمنة في كروم.
  - لا يحتفظ الامتداد ببيانات صوتك؛ جميع المعالجات تتم في الوقت الحقيقي.
  - يتم التواصل مع واجهات API عبر اتصالات HTTPS آمنة.

لمزيد من المعلومات حول كيفية تعامل BabelFishAI مع بياناتك، يرجى مراجعة [سياسة الخصوصية](PRIVACY.md).

## 🔧 استكشاف الأخطاء وإصلاحها

- **مشاكل الميكروفون :**
  - تحقق من صلاحيات الوصول إلى الميكروفون في كروم.
  - تأكد من عدم استخدام أي تطبيق آخر للميكروفون في نفس الوقت.

- **أخطاء النسخ/الترجمة :**
  - تحقق من أن مفتاح API صالح ومفعل.
  - تأكد من وجود اتصال إنترنت مستقر.
  - راجع وحدة تحكم كروم للحصول على سجلات مفصلة في حال حدوث خطأ.

## 🤝 المساهمة

المساهمات والاقتراحات مرحب بها. للمساهمة :
- أبلغ عن الأخطاء عبر قسم القضايا على GitHub.
- اقترح تحسينات أو ميزات جديدة.
- قدم طلبات السحب الخاصة بك.

## 📄 الترخيص

يتم توزيع هذا الامتداد بموجب رخصة GNU Affero General Public License v3.0 (AGPL-3.0). راجع ملف LICENSE لمزيد من التفاصيل.

## 💝 الدعم

إذا كنت تقدر هذا الامتداد، يمكنك دعم تطويره من خلال التبرع عبر [PayPal](https://paypal.me/jls).

---

تم تطويره بواسطة jls42.org بشغف وابتكار، ويدفع بابيل فيش AI النسخ والترجمة نحو آفاق جديدة بفضل الذكاء الاصطناعي المتطور.

**تمت ترجمة هذا المستند من النسخة fr إلى اللغة ar باستخدام نموذج o3-mini. للمزيد من المعلومات حول عملية الترجمة، يرجى زيارة https://gitlab.com/jls42/ai-powered-markdown-translator**

