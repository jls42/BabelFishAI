# بابيل فيش أي آي - إضافة النسخ الصوتي والترجمة باستخدام الذكاء الاصطناعي

بابيل فيش أي آي هي إضافة مبتكرة لمتصفح كروم صُممت في الأصل لتوفير نسخ صوتي قوي. حوّل صوتك إلى نص بدقة ملحوظة بفضل واجهة برمجة التطبيقات Whisper من OpenAI، واستفد اختيارياً من الترجمة التلقائية الفورية. يمكنك استخدام بابيل فيش أي آي حصرياً للنسخ الصوتي أو تفعيل الترجمة الفورية وفقًا لاحتياجاتك.

## 🌟 الميزات

- **النسخ الصوتي المتقدم**
  - التقاط صوتي عالي الجودة عبر ميكروفون جهازك.
  - نسخ دقيق يتم بواسطة واجهة برمجة التطبيقات Whisper من OpenAI.
  - دعم متعدد اللغات لمعالجة الصوت وعرض النص، مما يسمح بنسخ المدخلات الصوتية بلغات مختلفة وعرض النتائج باللغة التي تختارها.
  - إدراج النص تلقائيًا في الحقل النشط أو عرضه في مربع حوار مخصص.

- **الترجمة التلقائية المدمجة (اختيارية)**
  - ترجمة فورية للنصوص المنسوخة إلى عدة لغات، مع إمكانية التفعيل عند الحاجة.
  - استخدام نموذج ذكاء اصطناعي متقدم لضمان ترجمة دقيقة تعكس المعنى الأصلي.
  - حرية الاختيار بين استخدام النسخ الصوتي فقط أو الدمج بين النسخ الصوتي والترجمة.

- **واجهة مستخدم بديهية وقابلة للتخصيص**
  - وضع عرض مرن: منطقة إدخال نشطة أو نافذة حوار عائمة.
  - شريط حالة قابل للتكوين مع خيارات الألوان والشفافية ومدة العرض.
  - اختصار لوحة مفاتيح (Ctrl+Shift+1 أو ⌘+Shift+1 على أجهزة ماك) لبدء/إيقاف التسجيل.
  - أيقونة مخصصة تتضمن ميكروفونًا والرقم "42" للتمييز الفوري.

- **خيارات متقدمة**
  - وضع الخبراء لتكوينات مفصلة (روابط API، التكوين حسب النطاق، إلخ).
  - إمكانية تخصيص نماذج النسخ الصوتي والترجمة.
  - إدارة كاملة للتدويل بفضل ملفات اللغة (_locales)، مما يوفر واجهة ودعم صوتي بعدة لغات.

## 🌐 اللغات المدعومة

- العربية
- الألمانية
- الإنجليزية
- الإسبانية
- الفرنسية
- الهندية
- الإيطالية
- اليابانية
- الكورية
- الهولندية
- البولندية
- البرتغالية
- الرومانية
- السويدية
- الصينية

## 🚀 التثبيت

1. **التنزيل والتثبيت:**
   - استنساخ هذا المستودع من GitHub أو تحميل مجلد الإضافة يدويًا.
   - افتح متصفح كروم وانتقل إلى `chrome://extensions/`.
   - فعّل "وضع المطور" في أعلى اليمين.
   - انقر على "تحميل الإضافة غير المضغوطة" واختر مجلد بابيل فيش أي آي.

2. **التحقق:**
   - تأكد من ظهور الإضافة في شريط أدوات كروم مع الأيقونة المخصصة.

## ⚙️ التكوين

1. **مفتاح API الخاص بـ OpenAI:**
   - انقر على أيقونة الإضافة للوصول إلى الخيارات.
   - أدخل مفتاح API الخاص بـ OpenAI (متوفر على [platform.openai.com/account/api-keys](https://platform.openai.com/account/api-keys)).

2. **تخصيص الخيارات:**
   - اختر وضع العرض (منطقة نشطة أو مربع حوار).
   - قم بتكوين اللون والشفافية ومدة عرض شريط الحالة.
   - اختر اللغات للنسخ الصوتي (الإدخال الصوتي) ولعرض النص.
   - فعّل أو عطّل ميزة الترجمة حسب احتياجاتك.

## 🛠️ الجانب التقني في العمل

### بنية الإضافة

تتكون الإضافة من عدة ملفات JavaScript تتفاعل مع بعضها البعض:

*   **`manifest.json`:** الملف الرئيسي لإعدادات الإضافة. يحدد الأذونات والسكربتات والموارد المتاحة، إلخ. يستخدم الإصدار 3 من البيان ويعلن عن الأذونات `activeTab` و`storage` و`commands` و`scripting`. يتم حقن `content_scripts` في جميع الروابط وتنفذ في نهاية تحميل المستند.
*   **`background.js`:** عامل الخدمة الذي يعمل في الخلفية. يدير الأحداث (النقر على الأيقونة، اختصارات لوحة المفاتيح)، يحقن الـ `content script` إذا لزم الأمر ويتواصل مع الـ `content script`.
*   **`content.js`:** السكربت الذي يتم حقنه في صفحات الويب. يتفاعل مباشرة مع نموذج المستند (DOM)، يلتقط الصوت من الميكروفون، يستدعي واجهات برمجة التطبيقات للنسخ والترجمة، ويعرض النتائج.
*   **`src/utils/api.js`:** يحتوي على دالة `transcribeAudio` لاستدعاء واجهة برمجة التطبيقات Whisper من OpenAI (النسخ الصوتي).
*   **`src/utils/translation.js`:** يحتوي على دالة `translateText` لاستدعاء واجهة برمجة التطبيقات GPT من OpenAI (الترجمة).
*   **`src/utils/ui.js`:** يحتوي على دوال مساعدة لإدارة واجهة المستخدم (الشريط الإعلاني، مربع الحوار، زر النسخ).
*   **`src/constants.js`:** يحدد الثوابت الخاصة بالتكوين والحالات والإجراءات، إلخ.
*   **`src/pages/options/`:** يحتوي على الملفات الخاصة بصفحة خيارات الإضافة (HTML وCSS وJavaScript).

### عملية النسخ والترجمة

1.  **بدء التسجيل:** يبدأ المستخدم التسجيل بالنقر على أيقونة الإضافة أو باستخدام اختصار لوحة المفاتيح. يرسل سكربت الخلفية رسالة إلى سكربت المحتوى لبدء التسجيل.
2.  **التقاط الصوت:** يستخدم سكربت المحتوى واجهة `navigator.mediaDevices.getUserMedia` للوصول إلى الميكروفون وتسجيل الصوت.
3.  **النسخ:** يستخدم سكربت المحتوى دالة `transcribeAudio` (`src/utils/api.js`) لإرسال الصوت إلى واجهة برمجة التطبيقات Whisper من OpenAI. تعيد الواجهة النص المنسوخ.
4.  **الترجمة (اختيارية):** إذا تم تفعيل خيار الترجمة، يستخدم سكربت المحتوى دالة `translateText` (`src/utils/translation.js`) لإرسال النص المنسوخ إلى واجهة برمجة التطبيقات GPT من OpenAI. تعيد الواجهة النص المترجم.
5.  **العرض:** يعرض سكربت المحتوى النص المنسوخ (وربما المترجم) إما في العنصر النشط في الصفحة (إذا كان حقل نص أو عنصر قابل للتعديل) أو في مربع حوار.

### التواصل

يتم التواصل بين سكربت الخلفية وسكربت المحتوى عبر واجهة المراسلة الخاصة بكروم (`chrome.runtime.sendMessage` و `chrome.runtime.onMessage`).

### تخزين البيانات

تستخدم الإضافة `chrome.storage.sync` لتخزين:

*   مفتاح API الخاص بـ OpenAI (`apiKey`).
*   خيارات الإضافة (العرض، الترجمة، ألوان الشريط، إلخ).

### إدارة الأخطاء
يتم تعريف الأخطاء المحتملة (مفتاح API مفقود، خطأ في النسخ، إلخ) في ملف `constants.js`. تدير دوال `api.js` و `translation.js` الأخطاء المحتملة لاستدعاءات الواجهات. يعرض سكربت المحتوى رسائل الأخطاء للمستخدم عبر شريط علوي في أعلى الصفحة.

## 🛡️ الأمان والخصوصية

- **حماية البيانات:**
  - يتم تخزين مفتاح API بطريقة آمنة داخل كروم.
  - لا تحتفظ الإضافة ببياناتك الصوتية؛ حيث تتم جميع المعالجات في الوقت الفعلي.
  - يتم التواصل مع واجهات برمجة التطبيقات عبر اتصالات HTTPS الآمنة.

## 🔧 استكشاف الأخطاء وإصلاحها

- **مشاكل الميكروفون:**
  - تحقق من أذونات الوصول إلى الميكروفون في كروم.
  - تأكد من عدم استخدام أي تطبيق آخر للميكروفون في نفس الوقت.

- **أخطاء النسخ/الترجمة:**
  - تحقق من أن مفتاح API صالح ومفعل.
  - تأكد من توفر اتصال إنترنت مستقر.
  - راجع وحدة التحكم في كروم للحصول على سجلات مفصلة في حال حدوث خطأ.

## 🤝 المساهمة

المساهمات والاقتراحات مرحب بها. للمساهمة:
- قم بالإبلاغ عن الأخطاء عبر قسم Issues على GitHub.
- اقترح تحسينات أو ميزات جديدة.
- قدم طلبات السحب الخاصة بك.

## 📄 الترخيص

تُوزع هذه الإضافة بموجب رخصة GNU Affero General Public License v3.0 (AGPL-3.0). راجع ملف LICENSE للمزيد من التفاصيل.

## 💝 الدعم

إذا أعجبتك هذه الإضافة، يمكنك دعم تطويرها من خلال التبرع عبر [PayPal](https://paypal.me/jls).

---
تم تطويرها بشغف وابتكار بواسطة jls42.org، حيث تدفع بابيل فيش أي آي عملية النسخ والترجمة نحو آفاق جديدة بفضل الذكاء الاصطناعي المتقدم.

**تم ترجمة هذا المستند من النسخة الفرنسية إلى اللغة العربية باستخدام نموذج o3-mini. لمزيد من المعلومات حول عملية الترجمة، يرجى زيارة https://gitlab.com/jls42/ai-powered-markdown-translator**

